{"ast":null,"code":"import{useState,useEffect}from'react';import axios from'axios';import Card,{CardHeader,CardTitle,CardContent}from'./ui/Card';import{FiArrowUpRight,FiArrowDownLeft,FiMessageCircle,FiZap,FiAward}from'react-icons/fi';import API_BASE_URL from'../apiConfig';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ActivityHistory(){const[history,setHistory]=useState([]);const[userMap,setUserMap]=useState({});const userId=localStorage.getItem('userId');// Pagination states\nconst[receivedPage,setReceivedPage]=useState(1);const[sentPage,setSentPage]=useState(1);const messagesPerPage=5;// Streak states\nconst[currentStreak,setCurrentStreak]=useState(0);const[longestStreak,setLongestStreak]=useState(0);useEffect(()=>{const fetchHistory=async()=>{try{const token=localStorage.getItem('token');// Fetch activity history\nconst response=await axios.get(`${API_BASE_URL}/api/appreciation/history/${userId}`,{headers:{Authorization:`Bearer ${token}`}});setHistory(response.data);// Fetch user details to get usernames\nconst usersResponse=await axios.get(`${API_BASE_URL}/api/users`,{headers:{Authorization:`Bearer ${token}`}});// Create a map of userId to username\nconst userMap=usersResponse.data.reduce((acc,user)=>{acc[user.id]=user.username;return acc;},{});setUserMap(userMap);// Calculate streaks based on sent appreciations\ncalculateStreaks(response.data);}catch(error){console.error('Error fetching appreciation history or user data:',error);}};fetchHistory();},[userId]);const calculateStreaks=data=>{const sentAppreciations=data.filter(entry=>entry.sender_id===parseInt(userId));const sortedDates=sentAppreciations.map(entry=>new Date(entry.created_at).toDateString()).sort((a,b)=>new Date(a)-new Date(b));let currentStreakCount=0;let maxStreakCount=0;let previousDate=null;sortedDates.forEach(dateString=>{const date=new Date(dateString);if(previousDate){const diffDays=(date-previousDate)/(1000*60*60*24);if(diffDays===1){currentStreakCount+=1;}else if(diffDays>1){maxStreakCount=Math.max(maxStreakCount,currentStreakCount);currentStreakCount=1;// Reset streak count\n}}else{currentStreakCount=1;// Start counting streak\n}previousDate=date;});// Final streak check\nmaxStreakCount=Math.max(maxStreakCount,currentStreakCount);setCurrentStreak(currentStreakCount);setLongestStreak(maxStreakCount);};// Split history into received and sent appreciations\nconst receivedAppreciations=history.filter(entry=>entry.recipient_id===parseInt(userId));const sentAppreciations=history.filter(entry=>entry.sender_id===parseInt(userId));// Pagination handlers\nconst getPaginatedData=(data,page)=>{const startIndex=(page-1)*messagesPerPage;return data.slice(startIndex,startIndex+messagesPerPage);};const toProperCase=str=>{return str.charAt(0).toUpperCase()+str.slice(1).toLowerCase();};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto mt-20 p-4 space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\",children:[/*#__PURE__*/_jsx(Card,{className:\"bg-gradient-to-br from-orange-50 to-white\",children:/*#__PURE__*/_jsxs(CardContent,{className:\"pt-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(FiZap,{className:\"text-orange-500\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:\"Current Streak\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-orange-600\",children:[currentStreak,\" days\"]})]})}),/*#__PURE__*/_jsx(Card,{className:\"bg-gradient-to-br from-purple-50 to-white\",children:/*#__PURE__*/_jsxs(CardContent,{className:\"pt-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(FiAward,{className:\"text-purple-500\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:\"Longest Streak\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-purple-600\",children:[longestStreak,\" days\"]})]})})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(CardTitle,{className:\"text-2xl font-bold mb-6\",children:\"Received Appreciations\"})}),/*#__PURE__*/_jsx(CardContent,{children:receivedAppreciations.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[getPaginatedData(receivedAppreciations,receivedPage).map(entry=>/*#__PURE__*/_jsxs(\"div\",{className:\"border-b pb-4 last:border-b-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FiArrowDownLeft,{className:\"text-green-500\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium\",children:[\"From: \",toProperCase(userMap[entry.sender_id]||'Unknown')]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium text-green-600\",children:[\"$\",Number(entry.amount).toFixed(2)]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:entry.created_at})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsx(FiMessageCircle,{size:18,className:\"text-gray-400 mt-1\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700\",children:entry.message})]})})]},entry.id)),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setReceivedPage(Math.max(receivedPage-1,1)),disabled:receivedPage===1,className:\"text-blue-500 disabled:text-gray-400\",children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setReceivedPage(receivedPage+1),disabled:receivedPage*messagesPerPage>=receivedAppreciations.length,className:\"text-blue-500 disabled:text-gray-400\",children:\"Next\"})]})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-600\",children:\"No received appreciations available.\"})})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(CardTitle,{className:\"text-2xl font-bold mb-6\",children:\"Sent Appreciations\"})}),/*#__PURE__*/_jsx(CardContent,{children:sentAppreciations.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[getPaginatedData(sentAppreciations,sentPage).map(entry=>/*#__PURE__*/_jsxs(\"div\",{className:\"border-b pb-4 last:border-b-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FiArrowUpRight,{className:\"text-blue-500\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium\",children:[\"To: \",toProperCase(userMap[entry.recipient_id]||'Unknown')]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium text-blue-600\",children:[\"$\",Number(entry.amount).toFixed(2)]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:entry.created_at})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsx(FiMessageCircle,{size:18,className:\"text-gray-400 mt-1\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700\",children:entry.message})]})})]},entry.id)),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSentPage(Math.max(sentPage-1,1)),disabled:sentPage===1,className:\"text-blue-500 disabled:text-gray-400\",children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSentPage(sentPage+1),disabled:sentPage*messagesPerPage>=sentAppreciations.length,className:\"text-blue-500 disabled:text-gray-400\",children:\"Next\"})]})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-600\",children:\"No sent appreciations available.\"})})]})]});}export default ActivityHistory;","map":{"version":3,"names":["useState","useEffect","axios","Card","CardHeader","CardTitle","CardContent","FiArrowUpRight","FiArrowDownLeft","FiMessageCircle","FiZap","FiAward","API_BASE_URL","jsx","_jsx","jsxs","_jsxs","ActivityHistory","history","setHistory","userMap","setUserMap","userId","localStorage","getItem","receivedPage","setReceivedPage","sentPage","setSentPage","messagesPerPage","currentStreak","setCurrentStreak","longestStreak","setLongestStreak","fetchHistory","token","response","get","headers","Authorization","data","usersResponse","reduce","acc","user","id","username","calculateStreaks","error","console","sentAppreciations","filter","entry","sender_id","parseInt","sortedDates","map","Date","created_at","toDateString","sort","a","b","currentStreakCount","maxStreakCount","previousDate","forEach","dateString","date","diffDays","Math","max","receivedAppreciations","recipient_id","getPaginatedData","page","startIndex","slice","toProperCase","str","charAt","toUpperCase","toLowerCase","className","children","length","Number","amount","toFixed","size","message","onClick","disabled"],"sources":["/Users/Chan Keet/Documents/web_app_project/99c/frontend/src/components/ActivityHistory.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Card, { CardHeader, CardTitle, CardContent } from './ui/Card';\nimport { FiArrowUpRight, FiArrowDownLeft, FiMessageCircle, FiZap, FiAward } from 'react-icons/fi';\nimport API_BASE_URL from '../apiConfig';\n\nfunction ActivityHistory() {\n  const [history, setHistory] = useState([]);\n  const [userMap, setUserMap] = useState({});\n  const userId = localStorage.getItem('userId');\n\n  // Pagination states\n  const [receivedPage, setReceivedPage] = useState(1);\n  const [sentPage, setSentPage] = useState(1);\n  const messagesPerPage = 5;\n\n  // Streak states\n  const [currentStreak, setCurrentStreak] = useState(0);\n  const [longestStreak, setLongestStreak] = useState(0);\n\n  useEffect(() => {\n    const fetchHistory = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        // Fetch activity history\n        const response = await axios.get(`${API_BASE_URL}/api/appreciation/history/${userId}`, {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        });\n        setHistory(response.data);\n\n        // Fetch user details to get usernames\n        const usersResponse = await axios.get(`${API_BASE_URL}/api/users`, {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        });\n\n        // Create a map of userId to username\n        const userMap = usersResponse.data.reduce((acc, user) => {\n          acc[user.id] = user.username;\n          return acc;\n        }, {});\n        setUserMap(userMap);\n\n        // Calculate streaks based on sent appreciations\n        calculateStreaks(response.data);\n      } catch (error) {\n        console.error('Error fetching appreciation history or user data:', error);\n      }\n    };\n\n    fetchHistory();\n  }, [userId]);\n\n  const calculateStreaks = (data) => {\n    const sentAppreciations = data.filter(entry => entry.sender_id === parseInt(userId));\n    const sortedDates = sentAppreciations\n      .map(entry => new Date(entry.created_at).toDateString())\n      .sort((a, b) => new Date(a) - new Date(b));\n\n    let currentStreakCount = 0;\n    let maxStreakCount = 0;\n    let previousDate = null;\n\n    sortedDates.forEach(dateString => {\n      const date = new Date(dateString);\n      if (previousDate) {\n        const diffDays = (date - previousDate) / (1000 * 60 * 60 * 24);\n        if (diffDays === 1) {\n          currentStreakCount += 1;\n        } else if (diffDays > 1) {\n          maxStreakCount = Math.max(maxStreakCount, currentStreakCount);\n          currentStreakCount = 1; // Reset streak count\n        }\n      } else {\n        currentStreakCount = 1; // Start counting streak\n      }\n      previousDate = date;\n    });\n\n    // Final streak check\n    maxStreakCount = Math.max(maxStreakCount, currentStreakCount);\n\n    setCurrentStreak(currentStreakCount);\n    setLongestStreak(maxStreakCount);\n  };\n\n  // Split history into received and sent appreciations\n  const receivedAppreciations = history.filter(entry => entry.recipient_id === parseInt(userId));\n  const sentAppreciations = history.filter(entry => entry.sender_id === parseInt(userId));\n\n  // Pagination handlers\n  const getPaginatedData = (data, page) => {\n    const startIndex = (page - 1) * messagesPerPage;\n    return data.slice(startIndex, startIndex + messagesPerPage);\n  };\n\n  const toProperCase = (str) => {\n    return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();\n  };\n\n  return (\n    <div className=\"container mx-auto mt-20 p-4 space-y-8\">\n      {/* Streak Metrics Section */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\n        <Card className=\"bg-gradient-to-br from-orange-50 to-white\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <FiZap className=\"text-orange-500\" />\n              <h3 className=\"font-semibold\">Current Streak</h3>\n            </div>\n            <p className=\"text-3xl font-bold text-orange-600\">{currentStreak} days</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"bg-gradient-to-br from-purple-50 to-white\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <FiAward className=\"text-purple-500\" />\n              <h3 className=\"font-semibold\">Longest Streak</h3>\n            </div>\n            <p className=\"text-3xl font-bold text-purple-600\">{longestStreak} days</p>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Card for Received Appreciations */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-2xl font-bold mb-6\">Received Appreciations</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {receivedAppreciations.length > 0 ? (\n            <div className=\"space-y-4\">\n              {getPaginatedData(receivedAppreciations, receivedPage).map((entry) => (\n                <div key={entry.id} className=\"border-b pb-4 last:border-b-0\">\n                  <div className=\"flex justify-between items-center mb-3\">\n                    <div className=\"flex items-center gap-2\">\n                      <FiArrowDownLeft className=\"text-green-500\" />\n                      <p className=\"font-medium\">From: {toProperCase(userMap[entry.sender_id] || 'Unknown')}</p>\n                    </div>\n                    <div className=\"flex items-center gap-4\">\n                      <p className=\"font-medium text-green-600\">${Number(entry.amount).toFixed(2)}</p>\n                      <p className=\"text-sm text-gray-500\">{entry.created_at}</p>\n                    </div>\n                  </div>\n                  <div className=\"bg-gray-50 p-4 rounded-lg\">\n                    <div className=\"flex items-start gap-2\">\n                      <FiMessageCircle size={18} className=\"text-gray-400 mt-1\" />\n                      <p className=\"text-gray-700\">{entry.message}</p>\n                    </div>\n                  </div>\n                </div>\n              ))}\n              <div className=\"flex justify-between mt-4\">\n                <button\n                  onClick={() => setReceivedPage(Math.max(receivedPage - 1, 1))}\n                  disabled={receivedPage === 1}\n                  className=\"text-blue-500 disabled:text-gray-400\"\n                >\n                  Previous\n                </button>\n                <button\n                  onClick={() => setReceivedPage(receivedPage + 1)}\n                  disabled={receivedPage * messagesPerPage >= receivedAppreciations.length}\n                  className=\"text-blue-500 disabled:text-gray-400\"\n                >\n                  Next\n                </button>\n              </div>\n            </div>\n          ) : (\n            <p className=\"text-center text-gray-600\">No received appreciations available.</p>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Card for Sent Appreciations */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-2xl font-bold mb-6\">Sent Appreciations</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {sentAppreciations.length > 0 ? (\n            <div className=\"space-y-4\">\n              {getPaginatedData(sentAppreciations, sentPage).map((entry) => (\n                <div key={entry.id} className=\"border-b pb-4 last:border-b-0\">\n                  <div className=\"flex justify-between items-center mb-3\">\n                    <div className=\"flex items-center gap-2\">\n                      <FiArrowUpRight className=\"text-blue-500\" />\n                      <p className=\"font-medium\">To: {toProperCase(userMap[entry.recipient_id] || 'Unknown')}</p>\n                    </div>\n                    <div className=\"flex items-center gap-4\">\n                      <p className=\"font-medium text-blue-600\">${Number(entry.amount).toFixed(2)}</p>\n                      <p className=\"text-sm text-gray-500\">{entry.created_at}</p>\n                    </div>\n                  </div>\n                  <div className=\"bg-gray-50 p-4 rounded-lg\">\n                    <div className=\"flex items-start gap-2\">\n                      <FiMessageCircle size={18} className=\"text-gray-400 mt-1\" />\n                      <p className=\"text-gray-700\">{entry.message}</p>\n                    </div>\n                  </div>\n                </div>\n              ))}\n              <div className=\"flex justify-between mt-4\">\n                <button\n                  onClick={() => setSentPage(Math.max(sentPage - 1, 1))}\n                  disabled={sentPage === 1}\n                  className=\"text-blue-500 disabled:text-gray-400\"\n                >\n                  Previous\n                </button>\n                <button\n                  onClick={() => setSentPage(sentPage + 1)}\n                  disabled={sentPage * messagesPerPage >= sentAppreciations.length}\n                  className=\"text-blue-500 disabled:text-gray-400\"\n                >\n                  Next\n                </button>\n              </div>\n            </div>\n          ) : (\n            <p className=\"text-center text-gray-600\">No sent appreciations available.</p>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nexport default ActivityHistory;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}