{"ast":null,"code":"import{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import API_BASE_URL from'../apiConfig';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState(null);const navigate=useNavigate();const handleLogin=async e=>{e.preventDefault();setError(null);// Clear any existing error state\ntry{const response=await axios.post(`${API_BASE_URL}/api/login`,{email,password});if(response.data.token&&response.data.userId){// Store both the token and userId in localStorage\nlocalStorage.setItem('token',response.data.token);localStorage.setItem('userId',response.data.userId);// Navigate to the activity history page after successful login\nnavigate('/history');// Reload the page to ensure the Navbar state is refreshed\nwindow.location.reload();}else{setError('Login failed. Please try again.');}}catch(err){setError('Invalid credentials. Please try again.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex flex-col lg:flex-row items-center justify-center bg-gradient-to-r from-blue-400 via-blue-500 to-blue-600 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-start text-white space-y-6 mb-8 lg:mb-0 lg:mr-16 max-w-lg\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-5xl font-bold\",children:\"99c Daily Gratitude\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg lg:text-xl\",children:\"Your daily commitment to send an appreciation message to someone you're grateful for.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-md lg:text-lg\",children:\"A small token of appreciation can make a big difference. Spread gratitude every day, and see positivity multiply.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-sm bg-white rounded-lg shadow-lg p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-blue-600 mb-6 text-center\",children:\"Login\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 mb-4\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"text-gray-700 font-medium mb-2\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",value:email,onChange:e=>setEmail(e.target.value),className:\"p-3 border rounded-lg border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"text-gray-700 font-medium mb-2\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",value:password,onChange:e=>setPassword(e.target.value),className:\"p-3 border rounded-lg border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700 transition-all duration-300 ease-in-out\",children:\"Log In\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mt-6 text-center\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/register\",className:\"text-blue-600 font-bold hover:underline\",children:\"Sign Up\"})]})]})]});}export default Login;","map":{"version":3,"names":["useState","axios","useNavigate","API_BASE_URL","jsx","_jsx","jsxs","_jsxs","Login","email","setEmail","password","setPassword","error","setError","navigate","handleLogin","e","preventDefault","response","post","data","token","userId","localStorage","setItem","window","location","reload","err","className","children","onSubmit","htmlFor","type","id","value","onChange","target","required","href"],"sources":["/Users/Chan Keet/Documents/web_app_project/99c/frontend/src/components/Login.js"],"sourcesContent":["import { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport API_BASE_URL from '../apiConfig';\n\nfunction Login() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    setError(null); // Clear any existing error state\n\n    try {\n      const response = await axios.post(`${API_BASE_URL}/api/login`, {\n        email,\n        password,\n      });\n\n      if (response.data.token && response.data.userId) {\n        // Store both the token and userId in localStorage\n        localStorage.setItem('token', response.data.token);\n        localStorage.setItem('userId', response.data.userId);\n\n        // Navigate to the activity history page after successful login\n        navigate('/history');\n\n        // Reload the page to ensure the Navbar state is refreshed\n        window.location.reload();\n      } else {\n        setError('Login failed. Please try again.');\n      }\n    } catch (err) {\n      setError('Invalid credentials. Please try again.');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col lg:flex-row items-center justify-center bg-gradient-to-r from-blue-400 via-blue-500 to-blue-600 p-6\">\n      {/* Hero Banner Section */}\n      <div className=\"flex flex-col items-start text-white space-y-6 mb-8 lg:mb-0 lg:mr-16 max-w-lg\">\n        <h1 className=\"text-5xl font-bold\">99c Daily Gratitude</h1>\n        <p className=\"text-lg lg:text-xl\">\n          Your daily commitment to send an appreciation message to someone you're grateful for.\n        </p>\n        <p className=\"text-md lg:text-lg\">\n          A small token of appreciation can make a big difference. Spread gratitude every day, and see positivity multiply.\n        </p>\n      </div>\n\n      {/* Login Form Section */}\n      <div className=\"w-full max-w-sm bg-white rounded-lg shadow-lg p-8\">\n        <h2 className=\"text-3xl font-bold text-blue-600 mb-6 text-center\">Login</h2>\n        {error && <div className=\"text-red-500 mb-4\">{error}</div>}\n        <form onSubmit={handleLogin} className=\"space-y-4\">\n          <div className=\"flex flex-col\">\n            <label htmlFor=\"email\" className=\"text-gray-700 font-medium mb-2\">Email</label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              className=\"p-3 border rounded-lg border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              required\n            />\n          </div>\n          <div className=\"flex flex-col\">\n            <label htmlFor=\"password\" className=\"text-gray-700 font-medium mb-2\">Password</label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              className=\"p-3 border rounded-lg border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              required\n            />\n          </div>\n          <button\n            type=\"submit\"\n            className=\"w-full bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700 transition-all duration-300 ease-in-out\"\n          >\n            Log In\n          </button>\n        </form>\n        <p className=\"text-gray-600 mt-6 text-center\">\n          Don't have an account? <a href=\"/register\" className=\"text-blue-600 font-bold hover:underline\">Sign Up</a>\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}