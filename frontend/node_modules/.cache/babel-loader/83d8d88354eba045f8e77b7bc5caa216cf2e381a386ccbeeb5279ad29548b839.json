{"ast":null,"code":"import{useState}from'react';import axios from'axios';import Card,{CardHeader,CardTitle,CardContent}from'./ui/Card';import Input from'./ui/Input';import Textarea from'./ui/Textarea';import Button from'./ui/Button';import{FiHeart}from'react-icons/fi';import Modal from'./Modal';// Import the Modal component\nimport API_BASE_URL from'../apiConfig';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SendAppreciation(){const[recipient,setRecipient]=useState('');const[message,setMessage]=useState('');const[amount,setAmount]=useState(0.99);const[isModalOpen,setIsModalOpen]=useState(false);const[modalTitle,setModalTitle]=useState('');const[modalMessage,setModalMessage]=useState('');const userId=localStorage.getItem('userId');const handleSend=async()=>{try{const token=localStorage.getItem('token');await axios.post(`${API_BASE_URL}/api/appreciation/send`,{sender_id:userId,recipient_username:recipient,amount,message},{headers:{Authorization:`Bearer ${token}`}});// Set modal state for success\nsetModalTitle('Success');setModalMessage('Appreciation sent successfully!');setIsModalOpen(true);// Reset fields\nsetRecipient('');setMessage('');}catch(error){console.error('Error sending appreciation:',error);// Set modal state for error\nsetModalTitle('Error');setModalMessage('Failed to send appreciation. Please try again.');setIsModalOpen(true);}};const closeModal=()=>{setIsModalOpen(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto mt-20 p-4\",children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FiHeart,{className:\"text-red-500\"}),\"Send Appreciation\"]})}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Recipient Username\"}),/*#__PURE__*/_jsx(Input,{value:recipient,onChange:e=>setRecipient(e.target.value),placeholder:\"Enter recipient's username\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Message\"}),/*#__PURE__*/_jsx(Textarea,{value:message,onChange:e=>setMessage(e.target.value),placeholder:\"Write a personal note of appreciation...\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Amount\"}),/*#__PURE__*/_jsx(Input,{value:amount,onChange:e=>setAmount(parseFloat(e.target.value)),type:\"number\",min:\"0.01\",max:\"0.99\",step:\"0.01\",required:true})]}),/*#__PURE__*/_jsx(Button,{onClick:handleSend,className:\"w-full mt-4\",children:\"Send Appreciation\"})]})})]}),/*#__PURE__*/_jsx(Modal,{isOpen:isModalOpen,onClose:closeModal,title:modalTitle,message:modalMessage})]});}export default SendAppreciation;","map":{"version":3,"names":["useState","axios","Card","CardHeader","CardTitle","CardContent","Input","Textarea","Button","FiHeart","Modal","API_BASE_URL","jsx","_jsx","jsxs","_jsxs","SendAppreciation","recipient","setRecipient","message","setMessage","amount","setAmount","isModalOpen","setIsModalOpen","modalTitle","setModalTitle","modalMessage","setModalMessage","userId","localStorage","getItem","handleSend","token","post","sender_id","recipient_username","headers","Authorization","error","console","closeModal","className","children","value","onChange","e","target","placeholder","required","parseFloat","type","min","max","step","onClick","isOpen","onClose","title"],"sources":["/Users/Chan Keet/Documents/web_app_project/99c/frontend/src/components/SendAppreciation.js"],"sourcesContent":["import { useState } from 'react';\nimport axios from 'axios';\nimport Card, { CardHeader, CardTitle, CardContent } from './ui/Card';\nimport Input from './ui/Input';\nimport Textarea from './ui/Textarea';\nimport Button from './ui/Button';\nimport { FiHeart } from 'react-icons/fi';\nimport Modal from './Modal'; // Import the Modal component\nimport API_BASE_URL from '../apiConfig';\n\nfunction SendAppreciation() {\n  const [recipient, setRecipient] = useState('');\n  const [message, setMessage] = useState('');\n  const [amount, setAmount] = useState(0.99);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [modalTitle, setModalTitle] = useState('');\n  const [modalMessage, setModalMessage] = useState('');\n  const userId = localStorage.getItem('userId');\n\n  const handleSend = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      await axios.post(\n        `${API_BASE_URL}/api/appreciation/send`,\n        {\n          sender_id: userId,\n          recipient_username: recipient,\n          amount,\n          message,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n      // Set modal state for success\n      setModalTitle('Success');\n      setModalMessage('Appreciation sent successfully!');\n      setIsModalOpen(true);\n      // Reset fields\n      setRecipient('');\n      setMessage('');\n    } catch (error) {\n      console.error('Error sending appreciation:', error);\n      // Set modal state for error\n      setModalTitle('Error');\n      setModalMessage('Failed to send appreciation. Please try again.');\n      setIsModalOpen(true);\n    }\n  };\n\n  const closeModal = () => {\n    setIsModalOpen(false);\n  };\n\n  return (\n    <div className=\"container mx-auto mt-20 p-4\">\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <FiHeart className=\"text-red-500\" />\n            Send Appreciation\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-gray-700 text-sm font-bold mb-2\">Recipient Username</label>\n              <Input\n                value={recipient}\n                onChange={(e) => setRecipient(e.target.value)}\n                placeholder=\"Enter recipient's username\"\n                required\n              />\n            </div>\n            <div>\n              <label className=\"block text-gray-700 text-sm font-bold mb-2\">Message</label>\n              <Textarea\n                value={message}\n                onChange={(e) => setMessage(e.target.value)}\n                placeholder=\"Write a personal note of appreciation...\"\n                required\n              />\n            </div>\n            <div>\n              <label className=\"block text-gray-700 text-sm font-bold mb-2\">Amount</label>\n              <Input\n                value={amount}\n                onChange={(e) => setAmount(parseFloat(e.target.value))}\n                type=\"number\"\n                min=\"0.01\"\n                max=\"0.99\"\n                step=\"0.01\"\n                required\n              />\n            </div>\n            <Button onClick={handleSend} className=\"w-full mt-4\">\n              Send Appreciation\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Modal Component */}\n      <Modal\n        isOpen={isModalOpen}\n        onClose={closeModal}\n        title={modalTitle}\n        message={modalMessage}\n      />\n    </div>\n  );\n}\n\nexport default SendAppreciation;\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,IAAI,EAAIC,UAAU,CAAEC,SAAS,CAAEC,WAAW,KAAQ,WAAW,CACpE,MAAO,CAAAC,KAAK,KAAM,YAAY,CAC9B,MAAO,CAAAC,QAAQ,KAAM,eAAe,CACpC,MAAO,CAAAC,MAAM,KAAM,aAAa,CAChC,OAASC,OAAO,KAAQ,gBAAgB,CACxC,MAAO,CAAAC,KAAK,KAAM,SAAS,CAAE;AAC7B,MAAO,CAAAC,YAAY,KAAM,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,QAAS,CAAAC,gBAAgBA,CAAA,CAAG,CAC1B,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACmB,OAAO,CAAEC,UAAU,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACqB,MAAM,CAAEC,SAAS,CAAC,CAAGtB,QAAQ,CAAC,IAAI,CAAC,CAC1C,KAAM,CAACuB,WAAW,CAAEC,cAAc,CAAC,CAAGxB,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACyB,UAAU,CAAEC,aAAa,CAAC,CAAG1B,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAC2B,YAAY,CAAEC,eAAe,CAAC,CAAG5B,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAAA6B,MAAM,CAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAE7C,KAAM,CAAAC,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,KAAK,CAAGH,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAA9B,KAAK,CAACiC,IAAI,CACd,GAAGvB,YAAY,wBAAwB,CACvC,CACEwB,SAAS,CAAEN,MAAM,CACjBO,kBAAkB,CAAEnB,SAAS,CAC7BI,MAAM,CACNF,OACF,CAAC,CACD,CACEkB,OAAO,CAAE,CACPC,aAAa,CAAE,UAAUL,KAAK,EAChC,CACF,CACF,CAAC,CACD;AACAP,aAAa,CAAC,SAAS,CAAC,CACxBE,eAAe,CAAC,iCAAiC,CAAC,CAClDJ,cAAc,CAAC,IAAI,CAAC,CACpB;AACAN,YAAY,CAAC,EAAE,CAAC,CAChBE,UAAU,CAAC,EAAE,CAAC,CAChB,CAAE,MAAOmB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACnD;AACAb,aAAa,CAAC,OAAO,CAAC,CACtBE,eAAe,CAAC,gDAAgD,CAAC,CACjEJ,cAAc,CAAC,IAAI,CAAC,CACtB,CACF,CAAC,CAED,KAAM,CAAAiB,UAAU,CAAGA,CAAA,GAAM,CACvBjB,cAAc,CAAC,KAAK,CAAC,CACvB,CAAC,CAED,mBACET,KAAA,QAAK2B,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C5B,KAAA,CAACb,IAAI,EAAAyC,QAAA,eACH9B,IAAA,CAACV,UAAU,EAAAwC,QAAA,cACT5B,KAAA,CAACX,SAAS,EAACsC,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eAC5C9B,IAAA,CAACJ,OAAO,EAACiC,SAAS,CAAC,cAAc,CAAE,CAAC,oBAEtC,EAAW,CAAC,CACF,CAAC,cACb7B,IAAA,CAACR,WAAW,EAAAsC,QAAA,cACV5B,KAAA,QAAK2B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB5B,KAAA,QAAA4B,QAAA,eACE9B,IAAA,UAAO6B,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CAAC,oBAAkB,CAAO,CAAC,cACxF9B,IAAA,CAACP,KAAK,EACJsC,KAAK,CAAE3B,SAAU,CACjB4B,QAAQ,CAAGC,CAAC,EAAK5B,YAAY,CAAC4B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC9CI,WAAW,CAAC,4BAA4B,CACxCC,QAAQ,MACT,CAAC,EACC,CAAC,cACNlC,KAAA,QAAA4B,QAAA,eACE9B,IAAA,UAAO6B,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CAAC,SAAO,CAAO,CAAC,cAC7E9B,IAAA,CAACN,QAAQ,EACPqC,KAAK,CAAEzB,OAAQ,CACf0B,QAAQ,CAAGC,CAAC,EAAK1B,UAAU,CAAC0B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC5CI,WAAW,CAAC,0CAA0C,CACtDC,QAAQ,MACT,CAAC,EACC,CAAC,cACNlC,KAAA,QAAA4B,QAAA,eACE9B,IAAA,UAAO6B,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CAAC,QAAM,CAAO,CAAC,cAC5E9B,IAAA,CAACP,KAAK,EACJsC,KAAK,CAAEvB,MAAO,CACdwB,QAAQ,CAAGC,CAAC,EAAKxB,SAAS,CAAC4B,UAAU,CAACJ,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,CAAE,CACvDO,IAAI,CAAC,QAAQ,CACbC,GAAG,CAAC,MAAM,CACVC,GAAG,CAAC,MAAM,CACVC,IAAI,CAAC,MAAM,CACXL,QAAQ,MACT,CAAC,EACC,CAAC,cACNpC,IAAA,CAACL,MAAM,EAAC+C,OAAO,CAAEvB,UAAW,CAACU,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,mBAErD,CAAQ,CAAC,EACN,CAAC,CACK,CAAC,EACV,CAAC,cAGP9B,IAAA,CAACH,KAAK,EACJ8C,MAAM,CAAEjC,WAAY,CACpBkC,OAAO,CAAEhB,UAAW,CACpBiB,KAAK,CAAEjC,UAAW,CAClBN,OAAO,CAAEQ,YAAa,CACvB,CAAC,EACC,CAAC,CAEV,CAEA,cAAe,CAAAX,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}